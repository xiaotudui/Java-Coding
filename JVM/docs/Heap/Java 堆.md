## Java 堆

### Java 堆的作用

Java 堆，几乎所有的对象实例以及数组都分配在堆上。

为什么是几乎呢？

因为堆上的对象实例，面临一个问题，需要进行垃圾回收，而垃圾回收，必然是耽误时间的。

### 逃逸分析

在 JVM 中还有一种结构，叫做栈。而栈不需要进行垃圾回收，它只有出栈、入栈两种操作，不仅如此，栈还在有序的进行着。所以就相当于天然的进行垃圾回收。

那么人们就在想，能不能把有些对象实例，放在栈上？

比如我们分析一个对象实例，这个对象实例，只会在一个方法中存在，随着这个方法运行完，就不再需要这个对象实例。那么我们就不必把它分配在堆上，而是直接分配在栈上。这样就减轻了堆的负担。

这种分析，称为逃逸分析。就是分析一个对象实例，是否能够逃逸出一个方法。也就是分析一个对象实例的作用域。

### JVM 关于堆的参数设置

-Xms

-Xmx



